EXAMPLE_NAME := pooling
SRC := pooling.c
LDFLAGS := -lm -ldl

# Size configurations - can be overridden via command line
# Input elements = BATCH_SIZE * CHANNELS * HEIGHT * WIDTH
# Hot loop: parallel for over BATCH_SIZE
# LARGE (64-core): BATCH=2048 (32x64), ResNet first pool shape. ~1.65B elements
# EXTRALARGE (1920-worker): BATCH=9600 (5x1920). 4.7x LARGE
SMALL_CFLAGS ?= -DBATCH_SIZE=4 -DCHANNELS=64 -DHEIGHT=64 -DWIDTH=64
MEDIUM_CFLAGS ?= -DBATCH_SIZE=8 -DCHANNELS=128 -DHEIGHT=128 -DWIDTH=128
LARGE_CFLAGS ?= -DBATCH_SIZE=2048 -DCHANNELS=256 -DHEIGHT=56 -DWIDTH=56
EXTRALARGE_CFLAGS ?= -DBATCH_SIZE=9600 -DCHANNELS=256 -DHEIGHT=56 -DWIDTH=56

include ../carts.mk
